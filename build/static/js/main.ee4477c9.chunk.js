(this["webpackJsonppure-cra"]=this["webpackJsonppure-cra"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(3),r=(n(4),n(36)),s=n.n(r),c=(n(50),n.p,n(51),n(17)),o=n(9),i=n(19),u=n(27),d=n.n(u),p={session:{authenticated:!1},users:[{id:"U1",name:"yan fu",passwordHash:d()("123")},{id:"U2",name:"hao ji",passwordHash:d()("666")}],groups:[{name:"To Do",id:"G1",owner:"U1"},{name:"Doing",id:"G2",owner:"U1"},{name:"Done",id:"G3",owner:"U1"}],tasks:[{name:"Design the SmartReply pipeline",id:"T1",group:"G2",owner:"U1",isComplete:!1},{name:"1-1 with Olga",id:"T2",group:"G1",owner:"U2",isComplete:!1},{name:"Update the OneCert",id:"T3",group:"G3",owner:"U1",isComplete:!0}],comments:[{owner:"U1",id:"C1",task:"T1",content:"Really Urgent!!!"}]},l=n(42),j=n(43),m=n(15),b=n.n(m),h=n(8),O="REQUEST_TASK_CREATION",f="CREATE_TASK",x="SET_TASK_COMPLETION",v="SET_TASK_NAME",g="SET_TASK_GROUP",k="REQUEST_AUTH_USER",w="PROCESSING_AUTH_USER",T="AUTHENTICATING",N="NOT_AUTHENTICATED",C="SET_STATE",y=function(e,t,n){return{type:f,taskID:e,groupID:t,ownerID:n}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:w,session:t,authenticated:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:C,state:e}},U=n(79),E=n(22),S=n.n(E),G=n(41),A=Object(G.a)(),_=b.a.mark(K),R=b.a.mark(L),H=b.a.mark(F),P=b.a.mark(B);function K(){var e,t,n,a,r;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,Object(h.d)(O);case 3:return e=s.sent,t=e.groupID,n="U1",a=Object(U.a)(),s.next=9,Object(h.c)(y(a,t,n));case 9:return s.next=11,S.a.post("/task/new",{task:{id:a,group:t,owner:n,isComplete:!1,name:"New task"}});case 11:r=s.sent,r.res,s.next=0;break;case 15:case"end":return s.stop()}}),_)}function L(){var e,t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(h.d)([g,v,x]);case 3:return e=n.sent,n.next=6,S.a.post("/task/update",{task:{id:e.taskID,group:e.taskGroup,name:e.taskName,isComplete:e.isComplete}});case 6:t=n.sent,t.res,n.next=0;break;case 10:case"end":return n.stop()}}),R)}function F(){var e,t,n,a,r;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,Object(h.d)(k);case 3:return e=s.sent,t=e.username,n=e.password,s.prev=6,s.next=9,S.a.post("/authenticate",{username:t,password:n});case 9:return a=s.sent,r=a.data,s.next=13,Object(h.c)(I(r.state));case 13:if(A.push("/dashboard"),r){s.next=16;break}throw new Error;case 16:s.next=22;break;case 18:return s.prev=18,s.t0=s.catch(6),s.next=22,Object(h.c)(D(N));case 22:s.next=0;break;case 24:case"end":return s.stop()}}),H,null,[[6,18]])}function B(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.b)(K),Object(h.b)(L),Object(h.b)(F)]);case 2:case"end":return e.stop()}}),P)}var J=Object(j.a)(),M=Object(i.d)(Object(i.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.session||{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.authenticated;t.session;switch(n){case k:return Object(o.a)(Object(o.a)({},e),{},{authenticated:T});case w:return Object(o.a)(Object(o.a)({},e),{},{authenticated:a});case C:return Object(o.a)(Object(o.a)({},e),{},{id:t.state.session.id});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.tasks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.state.tasks;case f:return[].concat(Object(c.a)(e),[{id:t.taskID,name:"New Task",group:t.groupID,owner:t.ownerID,isComplete:!1}]);case x:return console.log("action",t),e.map((function(e){return e.id===t.taskID?Object(o.a)(Object(o.a)({},e),{},{isComplete:t.isComplete,group:t.taskGroup}):e}));case v:return e.map((function(e){return e.id===t.taskID?Object(o.a)(Object(o.a)({},e),{},{name:t.taskName}):e}));case g:return e.map((function(e){return e.id===t.taskID?Object(o.a)(Object(o.a)({},e),{},{group:t.taskGroup}):e}));default:return e}return e},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.comments;return e},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.groups,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.state.groups;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.state.users;default:return e}}}),Object(i.a)(Object(l.a)(),J));J.run(B);var Q=n(11),V=n(80),q=Object(Q.b)((function(e,t){var n=t.id;return{name:t.name,id:n,tasks:e.tasks.filter((function(e){return e.group===n}))}}),(function(e,t){return{createNewTask:function(t){e({type:O,groupID:t})}}}))((function(e){var t=e.tasks,n=e.name,r=e.id,s=e.createNewTask;return Object(a.jsxs)("div",{className:"card p-2 m-2",children:[Object(a.jsx)("h3",{children:n}),t.map((function(e){return Object(a.jsx)(V.a,{to:"/task/".concat(e.id),children:Object(a.jsx)("div",{className:"card p-2 mt-2",children:e.name})},e.id)})),Object(a.jsx)("button",{onClick:function(){return s(r)},className:"btn btn-primary btn-block mt-2",children:"Add New"})]})})),z=Object(Q.b)((function(e){return{groups:e.groups}}))((function(e){var t=e.groups;return Object(a.jsx)("div",{className:"row",children:t.map((function(e){return Object(a.jsx)(q,{id:e.id,name:e.name,className:"col"},e.id)}))})})),W=n(78),X=n(82),Y=n(81),Z=Object(Q.b)((function(e){return e}))((function(){return Object(a.jsx)("div",{children:Object(a.jsx)(V.a,{to:"/dashboard",children:Object(a.jsx)("h1",{children:"Go To Task Dashboard"})})})})),$=Object(Q.b)((function(e,t){var n=t.match.params.id,a=e.tasks.find((function(e){return e.id===n})),r=e.groups;return{id:n,task:a,groups:r,isComplete:a.isComplete}}),(function(e,t){var n=t.match.params.id;return{setTaskCompletion:function(t,n){e(function(e,t,n){return{type:x,taskID:e,isComplete:t,taskGroup:n}}(t,n))},setTaskName:function(t){var a,r;e((a=n,r=t.target.value,{type:v,taskID:a,taskName:r}))},setTaskGroup:function(t){var a,r;e((a=n,r=t.target.value,{type:g,taskID:a,taskGroup:r}))}}}))((function(e){var t=e.id,n=(e.comments,e.groups),r=e.task,s=e.isComplete,c=e.setTaskCompletion,o=e.setTaskName,i=e.setTaskGroup;return Object(a.jsxs)("div",{className:"card p-3 col-6",children:[Object(a.jsx)("h3",{children:Object(a.jsx)("input",{onChange:o,value:r.name,className:"form-control form-control-lg"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return c(t,!s,s?"G1":"G3")},className:"btn btn-primary",children:s?"Reopen":"complete"})}),Object(a.jsx)("div",{className:"form-inline mt-3",children:Object(a.jsx)("select",{onChange:i,value:r.group,className:"form-control",children:n.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),Object(a.jsx)("div",{children:Object(a.jsx)(V.a,{to:"/dashboard",children:Object(a.jsx)("button",{className:"btn btn-primary mt-2",children:"Done"})})})]})})),ee=Object(Q.b)((function(e){return{authenticated:e.session.authenticated}}),(function(e){return{authenticateUser:function(t){t.preventDefault();var n=t.target.username.value,a=t.target.password.value;e(function(e,t){return{type:k,username:e,password:t}}(n,a))}}}))((function(e){var t=e.authenticated,n=e.authenticateUser;return Object(a.jsxs)("div",{className:"card p-2 col-6",children:[Object(a.jsx)("h2",{children:"Please Login"}),Object(a.jsxs)("form",{onSubmit:n,children:[Object(a.jsx)("input",{type:"text",placeholder:"user name",name:"username",defaultValue:"yan fu",className:"form-control"}),Object(a.jsx)("input",{type:"text",placeholder:"password",name:"password",defaultValue:"",className:"form-control mt-2"}),Object(a.jsx)("button",{type:"submit",className:"form-control mt-2 btn btn-primary",children:"Login"}),t===N?Object(a.jsx)("p",{children:"Not Authenticated!"}):null]})]})})),te=function(e){return function(t){var n=t.match;return M.getState().session.authenticated?Object(a.jsx)(e,{match:n}):Object(a.jsx)(W.a,{to:"/login"})}},ne=function(){return Object(a.jsx)(X.a,{history:A,children:Object(a.jsx)(Q.a,{store:M,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Z,{}),Object(a.jsx)(Y.a,{exact:!0,path:"/",component:ee}),Object(a.jsx)(Y.a,{exact:!0,path:"/login",component:ee}),Object(a.jsx)(Y.a,{exact:!0,path:"/dashboard",render:te(z)}),Object(a.jsx)(Y.a,{exact:!0,path:"/task/:id",render:te($)})]})})})};var ae=function(){return Object(a.jsx)(ne,{})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};s.a.render(Object(a.jsx)(ae,{}),document.getElementById("root")),re()}},[[76,1,2]]]);
//# sourceMappingURL=main.ee4477c9.chunk.js.map